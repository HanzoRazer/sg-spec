{
  "id": "S1_over_coaching_guard",
  "description": "Even if every step is safe, should not exceed intervention budget or violate spacing",
  "startMs": 2000000,
  "rngSequence": [0.12, 0.34, 0.56, 0.78, 0.12, 0.34, 0.56, 0.78],
  "steps": [
    {
      "label": "t0",
      "in": {
        "at_ms": 2000000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1400,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1200,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": true
      }
    },
    {
      "label": "t+10s",
      "in": {
        "at_ms": 2010000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1300,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1100,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": false,
        "reasonPrefix": "budget"
      }
    },
    {
      "label": "t+20s",
      "in": {
        "at_ms": 2020000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1500,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1300,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": false
      }
    },
    {
      "label": "t+30s",
      "in": {
        "at_ms": 2030000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1700,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1500,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": true
      }
    },
    {
      "label": "t+40s",
      "in": {
        "at_ms": 2040000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1400,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1200,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": false
      }
    },
    {
      "label": "t+50s",
      "in": {
        "at_ms": 2050000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1400,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1200,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": false
      }
    },
    {
      "label": "t+60s",
      "in": {
        "at_ms": 2060000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1400,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1200,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": true
      }
    },
    {
      "label": "t+70s",
      "in": {
        "at_ms": 2070000,
        "mode": "PRACTICE",
        "backoff": "L1",
        "signals": {
          "timeSinceLastNoteOnMs": 1400,
          "phraseBoundaryDetected": true,
          "timeSincePhraseBoundaryMs": 1200,
          "ignoreStreak": 0,
          "silencePreference": 0.2,
          "userExplicitQuiet": false
        }
      },
      "expect": {
        "shouldInitiate": false
      }
    }
  ],
  "aggregate": {
    "maxInterventions": 3,
    "minSpacingMs": 25000,
    "neverInsideUnsafeWindow": true
  }
}
